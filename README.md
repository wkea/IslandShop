# 空岛方块商店插件 (IslandShop)

一个专为空岛服务器设计的GUI方块商店插件，支持Vault经济系统，提供便捷的方块购买功能。

## 功能特性

- 🛒 **GUI商店界面**：6行54格的现代化商店界面
- 💰 **Vault经济支持**：兼容所有主流经济插件（EssentialsX、CMI等）
- 🔢 **购买数量选择**：支持1个、16个、64个三种购买数量
- 📊 **实时余额显示**：在商店界面显示玩家当前余额
- ⚙️ **高度可配置**：所有商品价格、界面布局均可通过配置文件调整
- 🔐 **权限系统**：完善的权限控制，支持普通用户和管理员
- 📝 **购买日志**：可选记录玩家购买记录
- 🔄 **热重载**：支持配置文件热重载

## 安装要求

- Minecraft服务器：1.20.x
- Bukkit/Spigot/Paper服务端
- Vault插件
- 经济插件（如EssentialsX、CMI等）

## 安装步骤

1. 将编译好的插件JAR文件放入服务器的`plugins`文件夹
2. 重启服务器
3. 确保已安装Vault和经济插件
4. 插件会自动生成配置文件

## 使用方法

### 玩家命令
- `/islandshop` 或 `/is` - 打开空岛方块商店
- 别名：`/shop`

### 管理员命令
- `/islandshop reload` - 重载配置文件

### 权限节点
- `islandshop.use` - 使用商店的权限（默认给所有玩家）
- `islandshop.admin` - 管理员权限（重载配置等）

## 配置文件说明

配置文件位于 `plugins/IslandShop/config.yml`，主要包含以下部分：

### GUI设置
- 界面标题、大小、边框样式
- 功能按钮配置（购买数量选择、余额显示、关闭按钮）

### 商品配置
- 支持所有Minecraft方块
- 格式：`物品ID: 价格`
- 示例：
  ```yaml
  items:
    GRASS_BLOCK: 100
    STONE: 50
    DIAMOND_ORE: 1000
  ```

### 消息配置
- 所有提示消息均可自定义
- 支持颜色代码（&）

### 功能设置
- 购买确认开关
- 购买日志记录
- 日志格式自定义

## 默认商品列表

插件默认包含以下方块（价格可配置）：

### 基础方块
- 草方块 ($100)
- 石头 ($50)
- 橡木原木 ($80)
- 圆石 ($20)
- 泥土 ($30)
- 沙子 ($40)
- 沙砾 ($35)

### 矿石类
- 煤矿石 ($150)
- 铁矿石 ($300)
- 金矿石 ($500)
- 钻石矿石 ($1000)
- 绿宝石矿石 ($800)
- 红石矿石 ($200)
- 青金石矿石 ($250)

### 建筑方块
- 橡木木板 ($60)
- 玻璃 ($70)
- 砖块 ($120)
- 石砖 ($90)
- 下界岩 ($110)
- 灵魂沙 ($130)
- 荧石 ($180)

### 特殊方块
- 粘土块 ($75)
- 冰 ($95)
- 浮冰 ($140)
- 蓝冰 ($200)
- 黑曜石 ($250)
- 末地石 ($160)
- 紫珀块 ($220)

## 使用流程

1. 玩家执行 `/islandshop` 打开商店
2. 选择购买数量（1/16/64）
3. 点击想要购买的方块
4. 第一次点击选择商品，显示确认信息
5. 再次点击确认购买
6. 系统自动扣除金币并给予方块

## 自定义商品

要添加或修改商品，编辑 `config.yml` 中的 `items` 部分：

```yaml
items:
  # 添加新商品
  EMERALD_BLOCK: 1500
  NETHERITE_BLOCK: 5000
  
  # 修改现有商品价格
  GRASS_BLOCK: 80  # 从100改为80
```

## 故障排除

### 常见问题

1. **商店无法打开**
   - 检查Vault和经济插件是否已安装
   - 检查玩家是否有 `islandshop.use` 权限

2. **购买时提示"未找到Vault经济系统"**
   - 确保Vault插件已正确安装
   - 确保经济插件（如EssentialsX）已安装并配置

3. **商品显示为屏障方块**
   - 检查物品ID是否正确
   - 确保物品ID是有效的Minecraft 1.20.x物品

4. **配置文件错误**
   - 使用 `/islandshop reload` 重载配置
   - 检查控制台错误信息

### 日志查看
- 购买日志可在服务器控制台查看
- 错误日志也在控制台显示

## 开发信息

- 插件名称：IslandShop
- 版本：1.0.0
- 作者：ScriptIrc Engine
- 目标版本：Minecraft 1.20.x
- 依赖：Vault

## 更新计划

- [ ] 添加分类标签（按材料类型分类）
- [ ] 支持玩家出售功能
- [ ] 添加搜索功能
- [ ] 支持多页面商店
- [ ] 添加特价商品系统
- [ ] 支持数据库存储（MySQL/SQLite）

## 支持与反馈

如有问题或建议，请：
1. 查看服务器控制台错误信息
2. 检查配置文件格式
3. 确保所有依赖插件已正确安装

---

**注意**：本插件专为空岛服务器设计，但也可用于其他类型的生存服务器。所有价格均为示例，请根据服务器经济平衡自行调整。